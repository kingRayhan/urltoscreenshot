<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>url to Screenshoot</title>
        <meta name="description" content="Take screenshot by inserting website url">
        <meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" type="image/x-icon" href="assets/favicon.ico">
<!-- Open graph meta -->
<meta property="og:url"                content="rayhan.info" />
<meta property="og:title"              content="ðŸ“· Url to screenshot" />
<meta property="og:description"        content="Take screenshot by inserting website url" />
<meta property="og:image"              content="http://i.imgur.com/S61q3XQ.png" />



        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <!-- Place favicon.ico in the root directory -->
<link href='https://fonts.googleapis.com/css?family=Raleway:300,400' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Slabo+27px' rel='stylesheet' type='text/css'>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css">


<style>
body{
	font-family: 'Raleway', sans-serif;
}
header {
	padding: 5% 0;
	background: #644A8C;
	color: #fff;
}
.call-to-action{
	margin-bottom: 35px;
}
.call-to-action h2{
	font-size: 55px;
	font-family: 'Slabo 27px', serif;
}
.call-to-action p{
	font-size: 25px;
}
#url {
    font-size: 45px;
    color: #000;
    padding: 15px;
    font-family: 'Raleway', sans-serif;
    font-weight: 300;
}

.preview_and_download {
    margin: 5% 0;
}
#dl_img_width {
    font-size: 38px;
    width: 200px;
}
.dl_options {
    padding: 30px 0;
}
.g-recaptcha {
    width: 305px;
    margin: 10px auto;
}
footer {
    color: #fff;
    background: #644A8C;
    width: 100%;
    padding: 10px 0;
}
</style>

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
        <script src='https://www.google.com/recaptcha/api.js'></script>
    </head>
    <body>
        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->

        <header>
        	<div class="container text-center">
        		<div class="row">
        				<div class="col-md-12">
        					<div class="call-to-action">
        						<h2>Url to Screenshot</h2>
        						<p>Take screenshot by page url</p>
        					</div>
        					<div class="url-field-wrapper">
        						<input type="url" id="url" placeholder="Page url...">
        					</div>

        				</div>
        		</div>
        	</div>
        </header>

        <div class="preview_and_download" style="display: none;">
        	<div class="container">
        		<div class="row">
        			<div class="page_preview text-center">
        			<h3>Preview</h3>
        				<img id="urlPreview" src="loading.gif" alt="please wait...">
        			</div>
        			<div class="downloadScreenshot">
        				<div class="dl_options text-center">
        					<p><b>Define screenshot width (max width 1200px)</b></p>
        					<input type="number" value="505" id="dl_img_width">

        				</div>
        				<div class="dl_btn text-center">
        					<div class="g-recaptcha" data-callback="recaptchaCallback" data-sitekey="6Lex-hsTAAAAACiZgx373MzuRb_gehz4T9tiep_4"></div>
        					<a id="screenshot_dl_btn" class="btn btn-default btn-lg" download disabled='disabled'><span class="glyphicon glyphicon-circle-arrow-down"></span> Download screenshot</a>
        				</div>
        			</div>
        		</div>
        	</div>
        </div>
<div style="clear: both;"></div>
<footer>
    <div class="footer-text text-center">
    	<p>
			<a href="https://twitter.com/intent/tweet?button_hashtag=url_to_screenshot&text=I%20take%20screenshot%20by%20http%3A%2F%2Fkingrayhan.github.io%2Furltoscreenshot%2F" class="twitter-hashtag-button" data-size="large">Tweet #url_to_screenshot</a>
			<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
    	</p>
         <h3>Code is poetry</h3>
    </div>
</footer>
        <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
        <script src="assets/jquery.elevatezoom.js"></script>
        <script src="https://cdn.rawgit.com/kingRayhan/32b0675a1917b7b6738ab70fa8a40e36/raw/173e9299d0e68580ae488591d63bdd81c5b7bf2a/jquery.donetyping.js"></script>
  <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script> -->
        <script>
        	jQuery(document).ready(function($) {

        		// take screenshot
                var $dlBtn = $('#screenshot_dl_btn'); // Download Button
                var $getWidth = $('#dl_img_width');  
                var $urlPreview = $('#urlPreview');
                var $url = $('#url');
                function getImageLink(pageLink , width){
                	return 'https://api.thumbnail.ws/api/ab474153db3992639390e270d78a4867770a0dbaff7a/thumbnail/get?url=' + pageLink + '&width=' + width;
                }


        		$url.donetyping(function() { 
        			/**
        			 * Get page url from url field
        			 */
        			var pageUrl = $('#url').val();
        			
        			if ( pageUrl != '' ) { // if url field is not empty
        				 	$($urlPreview).elevateZoom();
	        				/**
	        				 * Slide down the .preview_and_download wrapper when page url is given in the url field
	        				 */
	        				$('.preview_and_download').slideDown('fast');
	        				/**
	        				 * add screenshot link in website preview img tag
	        				 */
	        				$urlPreview.attr({
	        					'src' : getImageLink(pageUrl , 600),
	        					'data-zoom-image' : getImageLink(pageUrl , 1200)
	        				});
	        				/**
	        				 * add screenshot link to the download button
	        				 */
	        				$dlBtn.attr('href', getImageLink(pageUrl , 505) );

        			}else{ // if url field is empty
        				/**
        				 * Hide the .preview_and_download wrapper when page url field is empty
        				 */
        				$('.preview_and_download').slideUp('fast');
        			}

        			/**
        			 * overwrite download button link
        			 */
                    $getWidth.keyup(function() {
                        $dlBtn.attr('href', getImageLink( pageUrl , $(this).val() ) );
                    });

        		});




        	});



        		/**
        		 * anable download button by reCapcha
        		 */
				function recaptchaCallback() {
				    $('#screenshot_dl_btn').removeAttr('disabled')
				};        	
        </script>
    </body>
</html>
